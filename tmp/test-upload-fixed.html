<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<form id="form" action="https://com-cloudership-eu-west-1-frootube-video-upload.s3.amazonaws.com/" method="post" enctype="multipart/form-data">
    <fieldset id="form-wrapper">
        <p id="uploading-msg" style="display: none">Uploading....</p>
        <div id="fields">
            <input type="hidden" name="x-amz-meta-id" value="deadbeef"/>
            <input type="hidden" name="key" value="test-upload.mkv"/>
            <input type="hidden" name="x-amz-algorithm" value="AWS4-HMAC-SHA256"/>
            <input type="hidden" name="x-amz-credential"
                   value="ASIAUVLCVIIB53BE6PN5/20200714/eu-west-1/s3/aws4_request"/>
            <input type="hidden" name="x-amz-date" value="20200714T001547Z"/>
            <input type="hidden" name="x-amz-security-token"
                   value="FwoGZXIvYXdzEOr//////////wEaDMo1lCrIHnzUufJ3UCK/AW2RaxE99lnDiI1p39+4IVWY9AkuYpbeiOso6Ho6Ulg63Gkx7W4WKUiUmt/C6V/vKg8KAYGCnn/f1dJPfJ3vLkVbHdq0e0SEHZUx3xFf09d+LORWQw03CIKnXPOfYY402W2A0H5TY+xQe8zQI5K3YAAXQmF6jg/37Ewy4tkmNZmXwGad9iKhS093XAEIFL7CVX8d8T9Bad/Cc7emuMTKHgFp3wdHeDZLBniz8TdahDts+MtXy/dFZEi3/dAlgb/5KLDys/gFMi06Nbwr+1vYaWVz+IKSPYrytZXFwP5ivK6W2DVzcCSqUs6bJrPdALCYw8dYWks="/>
            <input type="hidden" name="policy"
                   value="eyJleHBpcmF0aW9uIjogIjIwMjAtMDctMTRUMDE6MTU6NDdaIiwgImNvbmRpdGlvbnMiOiBbeyJ4LWFtei1tZXRhLWlkIjogImRlYWRiZWVmIn0sIHsiYnVja2V0IjogImNvbS1jbG91ZGVyc2hpcC1ldS13ZXN0LTEtZnJvb3R1YmUtdmlkZW8tdXBsb2FkIn0sIHsia2V5IjogInRlc3QtdXBsb2FkLm1wNCJ9LCB7IngtYW16LWFsZ29yaXRobSI6ICJBV1M0LUhNQUMtU0hBMjU2In0sIHsieC1hbXotY3JlZGVudGlhbCI6ICJBU0lBVVZMQ1ZJSUI1M0JFNlBONS8yMDIwMDcxNC9ldS13ZXN0LTEvczMvYXdzNF9yZXF1ZXN0In0sIHsieC1hbXotZGF0ZSI6ICIyMDIwMDcxNFQwMDE1NDdaIn0sIHsieC1hbXotc2VjdXJpdHktdG9rZW4iOiAiRndvR1pYSXZZWGR6RU9yLy8vLy8vLy8vL3dFYURNbzFsQ3JJSG56VXVmSjNVQ0svQVcyUmF4RTk5bG5EaUkxcDM5KzRJVldZOUFrdVlwYmVpT3NvNkhvNlVsZzYzR2t4N1c0V0tVaVVtdC9DNlYvdktnOEtBWUdDbm4vZjFkSlBmSjN2TGtWYkhkcTBlMFNFSFpVeDN4RmYwOWQrTE9SV1F3MDNDSUtuWFBPZllZNDAyVzJBMEg1VFkreFFlOHpRSTVLM1lBQVhRbUY2amcvMzdFd3k0dGttTlptWHdHYWQ5aUtoUzA5M1hBRUlGTDdDVlg4ZDhUOUJhZC9DYzdlbXVNVEtIZ0ZwM3dkSGVEWkxCbml6OFRkYWhEdHMrTXRYeS9kRlpFaTMvZEFsZ2IvNUtMRHlzL2dGTWkwNk5id3IrMXZZYVdWeitJS1NQWXJ5dFpYRndQNWl2SzZXMkRWemNDU3FVczZiSnJQZEFMQ1l3OGRZV2tzPSJ9XX0="/>
            <input type="hidden" name="x-amz-signature"
                   value="0fe2a3440d5d63e6a7a4d8f72aff19c0402e84be3bcfd023f47dc356e8214b4e"/>
        </div>
        <div>
            File:<input type="file" name="file">
        </div>
        <div>
            <input type="submit" name="submit" value="Upload to Amazon S3">
        </div>
    </fieldset>
</form>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="http://malsup.github.com/jquery.form.js"></script>
<script type="application/javascript">
    window.App = {};
    jQuery('#form').submit(function () {
        jQuery('#uploading-msg').show();
        jQuery('#form-wrapper').attr('disabled', '');
    }).ajaxForm(function () {
        alert('File uploaded!');
        // location.href = "https://video-dev.github.io/hls.js/demo/?demoConfig=eyJlbmFibGVTdHJlYW1pbmciOnRydWUsImF1dG9" +
        //     "SZWNvdmVyRXJyb3IiOnRydWUsImVuYWJsZVdvcmtlciI6dHJ1ZSwiZHVtcGZNUDQiOmZhbHNlLCJsZXZlbENhcHBpbmciOi0xLCJsa" +
        //     "W1pdE1ldHJpY3MiOi0xLCJ3aWRldmluZUxpY2Vuc2VVcmwiOiIifQ==&" +
        //     `src=https://s3-eu-west-1.amazonaws.com/a1b1-frootube-dev-video-download/assets/${App.mediaId}/HLS/video.m3u8`;
    });
</script>
</body>
</html>
